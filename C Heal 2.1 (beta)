// C heal 2.1
// /hi to set what evers in your right hand to the healer item the macro will use to heal people with
// c heal <name> heals person wiht that name
// c heal me heals you
// c pet heals your pet or the pet closest to you
// c self self heal
// c lock <name> lock healing to that person

//change "C heal" to whatever trigger word you like 
//I.E for it to act like squibs one: "" @my.name "heal" or just "j" would be j <name> to heal someone
setglobal trigger_W "C Heal"

setglobal Right_H "asklepian staff"
SETGLOBAL Timysampsw0 0
SETGLOBAL Timysampsw1 1
SETGLOBAL Timysampsw2 2
SETGLOBAL Timysampsw3 3
SETGLOBAL Timysampsw4 4
SETGLOBAL Timysampsw5 5
SETGLOBAL Timysampsw6 6

@login
{
call sethealeritem
}

"/hi"
{
call sethealeritem
}

sethealeritem
{
set Right_H @my.right_item
message "* Healer Item set to" Right_H ""
if Right_H >= asklepian
	SETGLOBAL Rad 1
end if
}

"/ah"
{
set logck @env.textlog
message "C Heal Online"
if logck.word[0] >= 0
SETGLOBAL Timysampsw0 + 2
	SETGLOBAL Timysampsw1 + 2
		SETGLOBAL Timysampsw2 + 2
			SETGLOBAL Timysampsw3 + 2
				SETGLOBAL Timysampsw4 + 2
					SETGLOBAL Timysampsw5 + 2
						SETGLOBAL Timysampsw6 + 2
end if
label top
if logck >= "says,
	call sayit
else if logck >= "growls,"
	call sayit
else if logck >= "yells,"
	call sayit
end if
goto top
}

sayit
{
	if logck.word[Timysampsw0] == trigger_W
		setglobal guy logck.word[Timysampsw0]
		setglobal guy2 logck.word[Timysampsw4]
	else if logck.word[Timysampsw3] == trigger_W
		setglobal guy logck.word[Timysampsw0]
		setglobal guy + " "
		setglobal guy + logck.word[Timysampsw2]
		setglobal guy2 logck.word[Timysampsw5]
	else if logck.word[Timysampsw4] == trigger_W
		setglobal guy logck.word[Timysampsw0]
		setglobal guy + " "
		setglobal guy + logck.word[Timysampsw2]
		setglobal guy + " "
		setglobal guy + logck.word[Timysampsw3]
		setglobal guy2 logck.word[Timysampsw6]
	end if
		if logck >= "" trigger_W "me"
				setglobal guyH guy
					call autoH
			end if
		else if logck >= "" trigger_W ""
			setglobal guyH guy2
				call autoH
		else if logck >= "" trigger_W "self"
			call autoS
		else if logck >= "" trigger_W "pet"
			call autoP
		else if logck >= "" trigger_W "area"
			call autoA
		else if logck >= "" trigger_W "lock me"
				setglobal guyH guy
					call autoL
		else if logck >= "" trigger_W "lock"
			setglobal guyH guy2
				call autoL
		end if
}

autoH
{
if @my.right_item != Right_H
	"/equip " Right_H " \r"
end if
"/use " guyH " \r"
message "* Auto Healing" guy ""
}

autoA
{
if Rad == 1
if @my.right_item != Right_H
	"/equip " Right_H " \r"
end if
"/use /on\r"
else if Rad == 0
message "* Sorry Dave, i cannot let you do that."
end if
}

autoP
{
if @my.right_item != Right_H
	"/equip " Right_H " \r"
end if
"/use /pet \r"
message "* Auto Healing Pet"
}

autoS
{
if @my.right_item != moonstone
	"/equip moonstone \r"
end if
message "* self healing mode"
label loopmoon
"/use \r"
pause 1
goto loopmoon
}

autoL
{
if @my.right_item != Right_H
	"/equip " Right_H " \r"
end if
"/use /lock " guyH " \r"
message "* Auto Locking" guy ""
}
SETGLOBAL AT 1
SETGLOBAL tradername ""
SETGLOBAL swaobackL ""
SETGLOBAL speeding 0
SETGLOBAL isMorphed 0
SETGLOBAL whatShape 0
SETGLOBAL CHAINING 0
SETGLOBAL swaoback ""
SETGLOBAL IDLE 1
SETGLOBAL CHrem 0
SETGLOBAL trademe 0
SETGLOBAL timeck 0

@login
{
setglobal namenum @my.name.num_words
set atimek 0
set actname "("
set actname + @my.name
set dotname @my.name
set dotname + "."
set hasfallen @my.name 
set hasfallen + " has fallen to a"
set wordtime 0
set timefix 0
label top
set timefix + 1
set logck @env.textLog
set nameck2 @env.textLog.word[6]
set nameck @env.textLog.word[2]
set nameck3 @env.textLog.word[5]
 
//log checking automation
if AT == 1
if timefix >= 25
	set wordtime + 1
		set atimek + 1
			set timefix 0
end if 
if IDLE == 1
	if atimek >= 7800
		"/money \r"
			set atimek 0
	end if
end if
if logck >= "thinks to you"
	if logck.word[3] == "thinks"
		setglobal Areply logck.word[2]
	else if logck.word[1] == "thinks"
		setglobal Areply logck.word[0]
	end if
end if
if trademe == 1
	if logck.word[0] == "To"
			if logck >= "To accept, \BUY 0"
				setglobal namenumb logck.num_words
					if namenumb == 7
						setglobal tradername logck.word[4]
					else if namenumb == 8
						setglobal tradername logck.word[4]
						setglobal tradername + " "
						setglobal tradername + logck.word[5]
					else if namenumb == 9
						setglobal tradername logck.word[4]
						setglobal tradername + " "
						setglobal tradername + logck.word[5]
						setglobal tradername + " "
						setglobal tradername + logck.word[6]
					end if
						goto buyish
			end if
	else if logck.word[2] == "To"
			if logck >= "To accept, \BUY 0"
				setglobal namenumb logck.num_words
					if namenumb == 7
						setglobal tradername logck.word[6]
					else if namenumb == 8
						setglobal tradername logck.word[6]
						setglobal tradername + " "
						setglobal tradername + logck.word[7]
					else if namenumb == 9
						setglobal tradername logck.word[6]
						setglobal tradername + " "
						setglobal tradername + logck.word[7]
						setglobal tradername + " "
						setglobal tradername + logck.word[8]
					end if
						goto buyish
			end if
	end if
label buyish
	if tradername != "Nothing"
		if tradername != ""
			"/buy 0 " tradername " \r"
				message "* Accepted Item From:" tradername ""
					setglobal tradername ""
						pause 1
		end if
	end if
end if
if  wordtime >= 15
//boat
	if logck.word[3] >= "Ah,"
		if logck >= "My fine boats"
			if namenum == 1
				if logck.word[4] == dotname
					"/whisper yes \r"
				end if
			else if namenum == 2
				set Bname logck.word[4]
				set Bname + " "
				set Bname + logck.word[5]
					if Bname == dotname
						"/whisper yes \r"
					end if
			else if namenum == 3
				set Bname logck.word[4]
				set Bname + " "
				set Bname + logck.word[5]
				set Bname + " "
				set Bname + logck.word[6]
					if Bname == dotname
						"/whisper yes \r"
					end if
			end if
		end if
	else if logck.word[5] >= "Ah,"
		if logck >= "My fine boats"
			if namenum == 1
				if logck.word[6] == dotname
					"/whisper yes \r"
				end if
			else if namenum == 2
				set Bname logck.word[6]
				set Bname + " "
				set Bname + logck.word[7]
					if Bname == dotname
						"/whisper yes \r"
					end if
			else if namenum == 3
				set Bname logck.word[6]
				set Bname + " "
				set Bname + logck.word[7]
				set Bname + " "
				set Bname + logck.word[8]
					if Bname == dotname
						"/whisper yes \r"
					end if
			end if
		end if
	else if logck.word[4] >= "Ah,"
		if logck >= "My fine boats"
			if namenum == 1
				if logck.word[5] == dotname
					"/whisper yes \r"
				end if
			else if namenum == 2
				set Bname logck.word[5]
				set Bname + " "
				set Bname + logck.word[6]
					if Bname == dotname
						"/whisper yes \r"
					end if
			else if namenum == 3
				set Bname logck.word[5]
				set Bname + " "
				set Bname + logck.word[6]
				set Bname + " "
				set Bname + logck.word[7]
					if Bname == dotname
						"/whisper yes \r"
					end if
			end if
		end if
	end if
//skiff
	if logck.word[2] >= "Hello,"
		if logck >= "river skiff. Interested?"
			if namenum == 1
				if logck.word[3] == dotname
					"/whisper yes \r"
				end if
			else if namenum == 2
				set Bname logck.word[3]
				set Bname + " "
				set Bname + logck.word[4]
					if Bname == dotname
						"/whisper yes \r"
					end if
			else if namenum == 3
				set Bname logck.word[3]
				set Bname + " "
				set Bname + logck.word[4]
				set Bname + " "
				set Bname + logck.word[5]
					if Bname == dotname
						"/whisper yes \r"
					end if
			end if
		end if
	else if logck.word[4] >= "Hello,"
		if logck >= "river skiff. Interested?"
			if namenum == 1
				if logck.word[5] == dotname
					"/whisper yes \r"
				end if
			else if namenum == 2
				set Bname logck.word[5]
				set Bname + " "
				set Bname + logck.word[6]
					if Bname == dotname
						"/whisper yes \r"
					end if
			else if namenum == 3
				set Bname logck.word[5]
				set Bname + " "
				set Bname + logck.word[6]
				set Bname + " "
				set Bname + logck.word[7]
					if Bname == dotname
						"/whisper yes \r"
					end if
			end if
		end if
	end if
	if logck >= "like to apply some"
		"/whisper yes \r"
	end if
	if logck >= "You have much to learn."
		message "*" nameck ": 0-9."
	end if
	if logck >= "It is good to see you."
		message "*" nameck ": 10-19."
	end if
	if logck >= "Your persistence is paying off."
		message "*" nameck ": 20-29."
	end if
	if logck >= "You are progressing well."
		message "*" nameck ": 30-39."
	end if
	if logck >= "You are a good pupil of mine."
		message "*" nameck ": 40-49."
	end if
	if logck >= "You are one of my better pupils."
		message "*" nameck ": 50-99."
	end if
	if logck >= "You keep me on my toes."
		message "*" nameck ": 100-149."
	end if
	if logck >= "It is hard to find more to teach you."
		message "*" nameck ": 150-199."
	end if
	if logck >= "Teaching you is a challenge."
		message "*" nameck ": 200-249."
	end if
	if logck >= "There is not much more I can teach you."
		message "*" nameck ": 250-299."
	end if
	if logck >= "Teaching you has taught me much."
		message "*" nameck ": 300-349."
	end if
	if logck >= "You have attained tremendous skill."
		message "*" nameck ": 350-399."
	end if
	if logck >= "We are nearly equals."
		message "*" nameck ": 400-449."
	end if
	if logck >= "You may be proud of your accomplishment."
		message "*" nameck ": 450-499."
	end if
	if logck >= "You are becoming a master of our art."
		message "*" nameck ": 500-549."
	end if
	if logck >= "Your dedication is commendable."
		message "*" nameck ": 550-599."
	end if
	if logck >= "You show great devotion to your studies."
		message "*" nameck ": 600-649."
	end if
	if logck >= "You are a credit to our craft."
		message "*" nameck ": 650-699."
	end if
	if logck >= "Few indeed are your peers."
		message "*" nameck ": 700-749."
	end if
	if logck >= "Your devotion to the craft is exemplary."
		message "*" nameck ": 750-799."
	end if
	if logck >= "It is always good to greet a respected colleague."
		message "*" nameck ": 800-899."
	end if
	if logck >= "You are truly a grand master."
		message "*" nameck ": 900-999."
	end if
	if logck >= "Let us search for more we might learn together."
		message "*" nameck ": 1000-1249."
	end if
	if logck >= "Your persistence is an example to us all."
		message "*" nameck ": 1250-1499."
	end if
	if logck >= "Your skill astounds me."
		message "*" nameck ": 1500-1749."
	end if
	if logck >= "You have progressed further than most."
		message "*" nameck ": 1750-1999."
	end if
	if logck >= "You are nearly peerless."
		message "*" nameck ": 2000–2249."
	end if
	if logck >= "You are a model of dedication."
		message "*" nameck ": 2250–2499."
	end if
	if logck >= "You have achieved mastery."
		message "*" nameck ": 2500–2749."
	end if
	if logck >= "You are enlightened."
		message "*" nameck ": 2750–2999."
	end if
	if logck >= "Your command of our craft is inspiring."
		message "*" nameck ": 3000–3249."
	end if
	if logck >= "All commend your dedication to our craft."
		message "*" nameck ": 3250–3499."
	end if
	if logck >= "I marvel at your skill."
		message "*" nameck ": 3500–3749."
	end if
	if logck >= "You walk where few have tread."
		message "*" nameck ": 3750–3999."
	end if
	if logck >= "Few stones are unturned in your path."
		message "*" nameck ": 4000–4249."
	end if
	if logck >= "Your footsteps guide the dedicated."
		message "*" nameck ": 4250–4499."
	end if
	if logck >= "You chart a way through the unknown."
		message "*" nameck ": 4500–4749."
	end if
	if logck >= "Your path illuminates the wilderness."
		message "*" nameck ": 4750–4999."
	end if
	if logck >= "Your skill casts a long shadow."
		message "*" nameck ": 5000-5249."
	end if
	if logck >= "You are a luminary of our art."
		message "*" nameck ": 5250-5499."
	end if
	if logck >= "Your skill is a beacon to all."
		message "*" nameck ": 5500-5749."
	end if
	if logck >= "You are an icon of greatness."
		message "*" nameck ": 5750-5999."
	end if
	if logck >= "Your path is ablaze with glory."
		message "*" nameck ": 6000-6499."
	end if
	if logck >= "Your prowess is legendary."
		message "*" nameck ": 6500-6999."
	end if
	if logck >= "Myths are made by your mastery."
		message "*" nameck ": 7000-7499."
	end if
	if logck >= "We whisper with wonder at your name."
		message "*" nameck ": 7500-7999."
	end if
	if logck >= "Your skill surpasses my own."
		message "*" nameck ": 8000-8499."
	end if
	if logck >= "I am humbled to have taught you."
		message "*" nameck ": 8500-8999."
	end if
	if logck >= "You know the deepest secrets of our craft."
		message "*" nameck ": 9000-9999."
	end if
	if logck >= "You know the deepest secrets of our craft."
		message "*" nameck ": 10000-????."
	end if
	if logck >= "There is nothing I can teach you."
		message "*" nameck ": MAXED."
	end if
	if logck >= "is becoming frustrated with your lack of progress"
		message "* |══════════| -0%"
	end if
	if logck >= "you have a difficult task ahead of you"
		message "* |══════════| 0%"
	end if
	if logck >= "you have just begun to"
		message "* |▰═════════| 0%-13%"
	end if
	if logck >= "you are starting to learn, but"
		message "* |▰▰▰═══════| 13%-38%"
	end if
	if logck >= "you are making progress."
		message "* |▰▰▰▰▰═════| 38%-62%"
	end if
	if logck >= "you are well on your way to enlightenment"
		message "* |▰▰▰▰▰▰════ | 62%-75%"
	end if
	if logck >= "you are close to mastering"
		message "* |▰▰▰▰▰▰▰═══| 75%-88%"
	end if
	if logck >= "you are almost ready for a breakthrough"
		message "* |▰▰▰▰▰▰▰▰▰═| 88%-100%"
	end if
	if logck >= "You feel you have much to learn."
		message "*" nameck ": 0-9"
	end if
	if logck >= "You feel tolerably skilled."
		message "*" nameck ": 10-19"
	end if
	if logck >= "You are becoming proficient."
		message "*" nameck ": 40-49"
	end if
	if logck >= "You have learned much."
		message "*" nameck ": 50-99"
	end if
	if logck >= "You have become skilled."
		message "*" nameck ": 100-149"
	end if
	if logck >= "You have become very skilled."
		message "*" nameck ": 150-199"
	end if
	if logck >= "Learning more is a challenge."
		message "*" nameck ": 200-249"
	end if
	if logck >= "You have attained great skill."
		message "*" nameck ": 250-299"
	end if
	if logck >= "You are becoming an expert."
		message "*" nameck ": 300-349"
	end if
	if logck >= "You are close to attaining mastery."
		message "*" nameck ": 400-449"
	end if
	if logck >= "You are becoming a master of your art."
		message "*" nameck ": 500-549"
	end if
		if logck >= "You are a credit to your craft."
		message "*" nameck ": 650-699"
	end if
	if logck >= "Your devotion to your craft is exemplary."
		message "*" nameck ": 750-799"
	end if
	if logck >= "Your devotion to your craft is exemplary."
		message "*" nameck ": 750-799"
	end if
	if logck >= "Your expertise is unquestionable."
		message "*" nameck ": 800-899"
	end if
	if logck >= "Few if any are your equal."
		message "*" nameck ": 1000-1249"
	end if
	if logck >= "Your skill astounds me."
		message "*" nameck ": 1500-1749"
	end if
	if logck >= "You have a vast amount to learn about"
		"/ponder Vast amount to learn! 800-1300 to go! \r"
	end if
	if logck >= "You have a lot to learn about"
		"/ponder A lot to learn! 510-700 to go! \r"
	end if
	if logck >= "You have much to learn about"
		"/ponder Much to learn! 300-480 to go! \r"
	end if
	if logck >= "You have many things to learn"
		"/ponder Many thing to learn! 160-280 to go! \r"
	end if
	if logck >= "You have some things to learn"
		"/ponder Some things to learn! 72-144 to go! \r"
	end if
	if logck >= "You have more than a few things to learn"
		"/ponder More than a few! 35-63 to go! \r"
	end if
	if logck >= "You have a few things to learn"
		"/ponder Few! 15-27 to go! \r"
	end if
	if logck >= "You have almost nothing left to learn"
		"/ponder SO CLOSE! 2-12 to go! \r"
	end if
	if logck >= "You learn to fight the"
		"/ponder Movements DONE! \r"
	end if
	if logck >= "You learn to befriend the"
		"/ponder Befriend Finshed! \r"
	end if
	if logck >= "You learn to assume the form of the"
		"/ponder Morph COMPLETED! \r"
	end if
	if logck.word[2] == "Garre"
		if logck.word[4] == "says,"
			call sayings
		else if logck.word[4] == "exclaims,"
			call sayings
		end if
	else if logck.word[0] == "Garre"
		if logck.word[2] == "says,"
			call sayings
		else if logck.word[2] == "exclaims,"
			call sayings
	end if
end if
	set wordtime 0
end if
if logck >= "You return"
	SETGLOBAL isMorphed 0
		SETGLOBAL whatShape 0
end if
if logck >= "Using /SHARE to create a spirit link"
	if isMorphed == 1
		SETGLOBAL keepspeed 1
			SETGLOBAL isMorphed 0
				SETGLOBAL whatShape 0
	end if
	if keepspeed == 0
		if speeding == 1
			SETGLOBAL speeding 0
				goto une
		end if
	end if
	if @my.right_item == "Moonstone"
		"/unequip moonstone\r"
	end if
end if
if logck >= "You are already in"
	SETGLOBAL isMorphed 0
		SETGLOBAL whatShape 0
end if
if logck >= "cannot possibly use"
	if isMorphed == 1
		SETGLOBAL isMorphed 0
			SETGLOBAL whatShape 0
	end if
	if speeding == 1
		SETGLOBAL speeding 0
			goto une
	end if
	if @my.right_item == "Moonstone"
		"/unequip moonstone\r"
	end if
end if
if logck >= hasfallen
	if isMorphed == 1
		SETGLOBAL keepspeed 1
			SETGLOBAL isMorphed 0
				SETGLOBAL whatShape 0
	end if
	if keepspeed == 0
		if speeding == 1
			SETGLOBAL speeding 0
				goto une
		end if
	end if
end if
if logck >= "You slow down"
	if speeding == 1
		SETGLOBAL speeding 0
			goto une
	end if
end if
if Hchk == 1
	message "*Healer Mode"
		call sethealeritem
			SETGLOBAL Hchk 0
end if
if Rchk == 1
	message "*Ranger Mode"
		message "Type /ranger for commands"
			SETGLOBAL Rchk 0
				SETGLOBAL Rmess 1
end if
if timeck == 1
	message "*" atimek ""
		setglobal timeck 0
end if
goto top
label une
	if swaobackL != "Heartwood Charm"
		if swaobackL != ""
			message "* swapping left hand back to" swaobackL " "
				"/equip " swaobackL " \r"
					SETGLOBAL swaobackL ""
						setglobal keepspeed 0
			else 
				"/unequip heartwood \r"
					setglobal keepspeed 0
	end if
end if
goto top
}
 
"/am"
{
if AT == 0
	setglobal AT 1
		message "*Auto Mate ON!"
else
	setglobal AT 0
		message "*Auto Mate OFF!"
end if
}
 
 
"/atz"
{
if trademe == 0
	setglobal trademe 1
		message "*Auto Trade Zero ON!"
			if AT == 0
				message "* Auto Mate is OFF, Auto Trade Zero will not work with it turned off."
					setglobal trademe 0
						message "disabled Auto Trade Zero"
			end if
else
	setglobal trademe 0
						message "disabled Auto Trade Zero"
		message "*Auto Trade Zero OFF!"
end if
}

control-click
{
if CHAINING == 0
	if @my.right_item != chain
		setglobal swaoback @my.right_item
	end if
end if
	if @my.right_item != chain
			setglobal CHAINING 1
				"/equip " chain "\r"
					"/use " @click.simple_name " \r"
	else
	if @my.right_item == chain
			setglobal CHAINING 0
				"/use " @click.simple_name " \r"
	end if
end if
}

control-F1
{
if CHAINING == 1
	setglobal CHAINING 0 
		"/equip " swaoback "\r"
end if
}

shift-click
{
"/whisper excuse me" @click.name " \r"
"/pull " @click.simple_name " \r"
}

control-click2
{
"/sell 0 " @clicksplayer " \r"
}

shift-click2
{
"/share " @clicksplayer " \r"
}

"/wt"
{
"/use /reflect\r"
}

"/col"
{
"Colmert says open \r"
}

"/r"
{
if Areply != ""
	"/thinkto " Areply " " @text "\r"
end if
}

numpad-1
{
"/pose leanleft \r"
}
numpad-2
{
"/pose akimbo \r"
}
numpad-3
{
"/pose leanright \r"
}
numpad-4
{
"/pose kneel \r"
}
numpad-5
{
"/pose sit \r"
}
numpad-6
{
"/pose angry \r"
}
numpad-7
{
"/pose lie \r"
}
numpad-8
{
"/pose seated \r"
}
numpad-9
{
"/pose celebrate \r"
}

sayings
{
if logck >= "You should speak"
	"/ponder No Duvin to Study with\r"
else if logck >= "most familiar"
	"/ponder 1-2 Duvin\r"
else if logck >= "familiar creatures;"
	"/ponder 3-4 Duvin\r"
else if logck >= "unusual creatures."
	"/ponder 5-14 Duvin\r"
else if logck >= "several creatures."
	"/ponder 15-24 Duvin\r"
else if logck >= "quite a few creatures."
 	"/ponder 25-34 Duvin\r"
else if logck >= "many creatures."
 	"/ponder 35-49 Duvin\r"
else if logck >= "great variety of creatures."
	"/ponder 50-99+ Duvin\r"
end if
pause 3
}

setglobal name[1] ""
setglobal name[2] ""
setglobal name[3] ""
setglobal name[4] ""
setglobal name[5] ""
setglobal namel 1
setglobal thnka 1
setglobal Athank 0
setglobal tell ""
setglobal failname 0


control-shift-click2
{
setglobal exlie @click.simple_name
setglobal exlieR @click.name //will add pretty names later.
call nameadd
}

errorck
{
set rname name[thnka]
pause 3
set logck @env.textlog
if logck.word[2] == "You"
	if logck >= "You have given"
		message "*" rname "is unable to recive karma, removing name."
			setglobal name[thnka] ""
				setglobal thnka + 1
					call nextthk
	else if logck >= "have no karma"
		message "* Auto Thanker re-doing last"
			setglobal thnka - 1
				goto wait
	end if
else if logck.word[3] == "is"
	if logck >= "not in the lands."
		message "*" rname "is no longer clanning, removing."
				setglobal name[thnka] ""
					setglobal thnka + 1
						call nextthk
	end if
else if logck >= "Feeling mighty pleased"
		message "* mistakes where made, removing your name."
			setglobal name[thnka] ""
				setglobal thnka + 1
					call nextthk
end if
if thnka > 5
	setglobal thnka 1
else if thnka < 1
	setglobal thnka 1
else
	setglobal thnka + 1
end if
label wait
pause 1800
if Athank == 0
	goto end
end if
call nextthk
label end
}

thanker
{
if thnka > 5
	setglobal thnka 1
else if thnka < 1
	setglobal thnka 1
end if
if name[thnka] != ""
	"/thank " name[thnka] " " tell "\r"
else if name[thnka] == ""
	if thnka > 5
		setglobal thnka 1
	else if thnka < 1
		setglobal thnka 1
	else
		setglobal thnka + 1
	end if
			call nextthk
	end if
end if
call errorck
}

nextthk
{
if Athank == 1
	call thanker
else if Athank == 0
	goto end
end if
label end
}

thnck
{
if name[1] == exlie
setglobal delck 1
call ende
else if name[2] == exlie
setglobal delck 2
call ende
else if name[3] == exlie
setglobal delck 3
call ende
else if name[4] == exlie
setglobal delck 4
call ende
else if name[5] == exlie
setglobal delck 5
call ende
end if
}
 
ende
{
if exlie == rmck
	setglobal name[delck] ""
		message "Removed" rmck "from list"
			setglobal rmck ""
				goto exit
end if
setglobal rmck exlie
	message "*" exlie "is already on the Karma list."
		message "click them again to remove them."
label exit
setglobal failname 1
}

nameadd
{
call thnck
	if failname == 1
		goto end
	end if
	setglobal name[namel] exlie
		message "" name[namel] "added to Karma list" //this my break for no reason
			if namel > 5
				setglobal namel 1
			else
				setglobal namel + 1
			end if
				goto end
	end if
label end
setglobal failname 0
}

"/thn"
{
set witchword 0
set limit @text.num_words
if @text.num_words < 1
	goto usage
else if @text.num_words > 6
	goto usage
end if
if @text.num_words < 6
	label nextw
		if @text.word[witchword] != ""
			"/select @text.word[witchword] \r"
				setglobal exlie @selplayer.name
					call nameadd
						"/select \r"
							set witchword + 1
								if @text.word[witchword] != ""
									goto nextw
								else
									goto ledone
								end if
		end if
end if
label usage
	message "how to use command: /thn <name> <name> <name> <name> <name> (only work upto 5 names)"
label ledone
}

"/thanks"
{
if Athank == 0
	setglobal Athank 1
		message "* Auto Thanker Online!"
			call nextthk
else if Athank == 1
	setglobal Athank 0
		message "* Auto Thanker Offline!"
end if
}
 
"/thm"
{
if @text.word[0] != ""
	setglobal tell @text
		message "* Karma Message set to" tell ""
else if @text.word[0] == ""
	setglobal tell ""
		message "* Karma Message will be anonymous"
end if
}

"/thw"
{
set nameck 1
message "* Karma List:"
label top
if nameck < 6
	if name[nameck] != "Nothing"
		if name[nameck] != ""
			message "" name[nameck] ""
				set nameck + 1
		else
			set nameck + 1
				goto top
		end if
	else
		set nameck + 1
			goto top
	end if
goto top
else if nameck > 6
		goto end
end if
label end
	message "* ------end------ *"
}
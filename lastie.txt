// lastie beta 0.1
// by Magnic

setgloabal last_index_name ""
setgloabal last_index_creature ""
setgloabal name_repeater ""
setgloabal creature_repeater ""

"/last"
{
set chklistnum 1
if @text.num_words < 1
	goto usage
end if
// if monster always on list, add the name
if @text.word[1] >= last_index_creature
	label monster_index_finder
	if last_index_creature.word[chklistnum] != ""
		if last_index_creature.word[chklistnum] == @text.word[1]
			setgloabal name_repeater last_index_name
				@textsel "/setlsname "name_repeater" "@text.word[0]"[chklistnum]" \r
					goto added
		else if last_index_creature.word[chklistnum] != @text.word[1]
			set chklistnum + 1
				goto monster_index_finder
		end if
	end if
else
	@textsel "/setlscreature "creature_repeater" "@text.word[1]" \r
		@textsel "/setlsname "name_repeater" "@text.word[0]" \r
			goto added
end if
label usage
	Message "Usage: /last <name> <monster>"
		goto ender
label added
message "@text.word[0]" "@text.word[1]" added\r"
label end
}

"/setlscreature"
{
setgloabal last_index_creature @text
}

"/setlsname"
{
setgloabal last_index_name @text
}

"/lasts"
{
//set names last_index_name
//set monsters last_index_creature
//if monsters 
"/narrator " last_index_name "
}
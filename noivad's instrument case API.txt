// noivad's instrument case API 0.2
// Modifyed by Magnic
/* ** Instrument Case Uses ** /
/
"/remove" call REMOVE

REMOVE
{
if @my.left_item != "instrument case"
    setglobal lSave @my.left_item
    "/equip instrument case\r"
		pause 3
			if @env.textLog >= "You have no \'instrument case\' to equip."
				call findinbag
					pause 5
						if @env.textLog  >= "* Could not find an item named \"instrument case\"."
							goto end
						end if
			end if
	if text != ""
    "/useitem instrument case /remove " @text "\r"
    pause 10
    "/equip " lSave "\r"
    "/equip " @text "\r"
	else
		message " reminder: /remove <item name>"
	end if
end if
label end
message "instrument needs to be in your inventory"
}

"/add" call ADD

ADD
{
if @my.left_item != "instrument case"
    setglobal lSave @my.left_item
    "/equip instrument case\r"
		pause 3
			if @env.textLog >= "You have no \'instrument case\' to equip."
				call findinbag
					pause 5
						if @env.textLog  >= "* Could not find an item named \"instrument case\"."
							goto end
						end if
			end if
    "/useitem instrument case /add " @text "\r"
    pause 10
    "/equip " lSave "\r"
end if
label end
message "instrument needs to be in your inventory"
}

"/store" call STORE //Stores what instrument is in your hand

STORE
{
if @my.left_item != "instrument case"
    setglobal lSave @my.left_item
    "/equip instrument case\r"
		pause 3
			if @env.textLog >= "You have no \'instrument case\' to equip."
				call findinbag
					pause 5
						if @env.textLog  >= "* Could not find an item named \"instrument case\"."
							goto end
						end if
			end if
    "/useitem instrument case /add " @my.right_item "\r"
    pause 10
    "/equip " lSave "\r"
end if
label end
message "instrument needs to be in your inventory"
}

grabInstrument
{
if @my.right_item != songInstrument
    setglobal lSave @my.left_item
    "/equip instrument case\r"
		pause 3
			if @env.textLog >= "You have no \'instrument case\' to equip."
				call findinbag
					pause 5
						if @env.textLog  >= "* Could not find an item named \"instrument case\"."
							goto end
						end if
			end if
    "/useitem instrument case /remove " songInstrument "\r"
		//pause 3
			//if @env.textLog >= "<insert no instrument message here>"
			//	goto end
			//end if
    setglobal rSave @my.right_item
    "/equip " songInstrument "\r"
    "/equip " lSave " \r"
end if
label end
message "instrument needs to be in your inventory"
}

storeInstrument
{
if @my.left_item != "instrument case"
    setglobal lSave @my.left_item
    "/equip instrument case\r"
		pause 3
			if @env.textLog >= "You have no \'instrument case\' to equip."
				call findinbag
					pause 5
						if @env.textLog  >= "* Could not find an item named \"instrument case\"."
							goto end
						end if
			end if
    "/useitem instrument case /add " songInstrument "\r"
    if rSave != "Nothing"
        "/equip " rSave "\r"
    end if
    pause 5
    if lSave != "Nothing"
        "/equip " lSave "\r"
    end if
end if
label end
message "instrument needs to be in your inventory"
}

findinbag
{
"/bag /remove /exact instrument case \r"
}